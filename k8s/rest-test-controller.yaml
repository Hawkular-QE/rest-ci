apiVersion: v1beta3
kind: ReplicationController
metadata:
  name: rest-test-ctl1
spec:
  replicas: 1
  selector:
    name: hawkulartest
    env: restsmoke1
  # podTemplate defines the 'cookie cutter' used for creating
  # new pods when necessary
  template:
    metadata:
      labels:
        # Important: these labels need to match the selector above
        # The api server enforces this constraint.
        name: hawkulartest
        env: restsmoke1
    spec:
      containers:
        - name: restsmoke1
          image: hawkularqe/java-client:latest
          resources:
            limits:
              cpu: 1
          env:
            - name: WAIT_TRIES
              value: "50"
            - name: HAWKULAR_ENDPOINT
              value: http://209.132.179.82:18080
          volumeMounts:
            - mountPath: /reports
              name: "reports"
        - name: webserver
          image: nginx:latest
          ports:
            - containerPort: 80
          resources:
            limits:
              cpu: 1
          volumeMounts:
            - mountPath: /usr/share/nginx/html
              name: "reports"
      volumes:
        - name: "reports"
          source:
            emptyDir:
                medium: 
